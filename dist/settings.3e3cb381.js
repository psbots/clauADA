document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("settings-form"),t=document.getElementById("api-type"),s=document.getElementById("anthropic-fields"),c=document.getElementById("aws-fields"),a=document.getElementById("anthropic-model"),n=document.getElementById("aws-model");function d(e){"anthropic"===e?(s.classList.remove("hidden"),c.classList.add("hidden")):"aws-bedrock"===e&&(s.classList.add("hidden"),c.classList.remove("hidden"))}chrome.storage.sync.get(["apiType","anthropicApiKey","awsAccessKeyId","awsSecretAccessKey","anthropicModel","awsModel"],function(e){e.apiType&&(t.value=e.apiType,d(e.apiType)),e.anthropicApiKey&&(document.getElementById("anthropic-api-key").value=e.anthropicApiKey),e.awsAccessKeyId&&(document.getElementById("aws-access-key-id").value=e.awsAccessKeyId),e.awsSecretAccessKey&&(document.getElementById("aws-secret-access-key").value=e.awsSecretAccessKey),e.anthropicModel&&(a.value=e.anthropicModel),e.awsModel&&(n.value=e.awsModel)}),t.addEventListener("change",function(){d(this.value)}),e.addEventListener("submit",function(e){e.preventDefault();let s=t.value,c={apiType:s};"anthropic"===s?(c.anthropicApiKey=document.getElementById("anthropic-api-key").value,c.anthropicModel=a.value):"aws-bedrock"===s&&(c.awsAccessKeyId=document.getElementById("aws-access-key-id").value,c.awsSecretAccessKey=document.getElementById("aws-secret-access-key").value,c.awsModel=n.value),chrome.storage.sync.set(c,function(){alert("Settings saved successfully!")})})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IkFBQUEsU0FBUyxnQkFBZ0IsQ0FBQyxtQkFBb0IsV0FDMUMsSUFBTSxFQUFPLFNBQVMsY0FBYyxDQUFDLGlCQUMvQixFQUFnQixTQUFTLGNBQWMsQ0FBQyxZQUN4QyxFQUFrQixTQUFTLGNBQWMsQ0FBQyxvQkFDMUMsRUFBWSxTQUFTLGNBQWMsQ0FBQyxjQUNwQyxFQUF1QixTQUFTLGNBQWMsQ0FBQyxtQkFDL0MsRUFBaUIsU0FBUyxjQUFjLENBQUMsYUF1RDNDLFNBQUEsRUFBQSxDQUFBLEVBQ0osQUFBQSxjQUFBLEdBQ0osRUFBQSxTQUFBLENBQUEsTUFBQSxDQUFBLFUsRSxTLEMsRyxDLFcsZ0IsSSxFLFMsQyxHLEMsVSxFLFMsQyxNLEMsVSxDQXRENkIsT0FBQSxPQUFBLENBQUEsSUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFVBQUEsa0JBQUEsaUJBQUEscUJBQUEsaUJBQUEsV0FBQSxDQUFBLFNBQUEsQ0FBQSxFQUFXLEVBQUEsT0FBQSxHQUFtQixFQUFBLEtBQUEsQ0FBQSxFQUFBLE9BQUEsQ0FBa0IsRUFBQSxFQUFBLE9BQUEsR0FBd0MsRUFBQSxlQUFBLEVBQWEsQ0FBQSxTQUFTLGNBQVgsQ0FBQSxxQkFBQSxLQUFBLENBQUEsRUFBQSxlQUFBLEFBQUEsRUFFcEgsRUFBQSxjQUFtQixFQUNuQixDQUFBLFNBQUEsY0FBdUIsQ0FBQSxxQkFBdkIsS0FBQSxDQUFBLEVBQUEsY0FBQSxBQUFBLEVBRUEsRUFBTyxrQkFDUCxFQUVBLENBQUEsU0FBTyxjQUNQLENBQUEseUJBQXdCLEtBQUEsQ0FBQSxFQUFBLGtCQUE2QixBQUE3QixFQUt4QixFQUFPLGNBQWMsRUFHckIsQ0FBQSxFQUNBLEtBQUEsQ0FBQSxFQUFlLGNBQWUsQUFBZixFQUl2QixFQUFjLFFBQUEsRUFDVixDQUFBLEVBQWdCLEtBQUssQ0FBckIsRUFBQSxRQUFBLEFBQUEsQ0FHSixHQUVJLEVBQU0sZ0JBQVUsQ0FBQSxTQUFoQixXQUNBLEVBQU0sSUFBTixDQUFBLEtBQUEsQ0FBbUIsR0FFbkIsRUFBQSxnQkFBZ0IsQ0FBQSxTQUFBLFNBQWhCLENBQUEsRUFDSSxFQUFBLGNBQVMsR0FDVCxJQUFBLEVBQVMsRUFBaUIsS0FBQSxDQUM5QixFQUFXLENBQUEsUUFBQSxDQUFZLENBRW5CLEFBQVMsQ0FBQSxjQUFULEdBQ0EsRUFBUyxlQUFXLENBQUEsU0FBZSxjQUFuQyxDQUFBLHFCQUFBLEtBQUEsQ0FDSixFQUFBLGNBQUEsQ0FBQSxFQUFBLEtBQUEsRUFFdUIsZ0JBQWhCLElBQ0gsRUFBQSxjQUFBLENBQUEsU0FBQSxjQUFBLENBQUEscUJBQUEsS0FBQSxDQUNKLEVBQUEsa0JBQUEsQ0FBQSxTQUFBLGNBQUEsQ0FBQSx5QkFBQSxLQUFBLENBQ0osRUFBQSxRQUFBLENBQUEsRUFBQSxLQUFBLEVBSVEsT0FBQSxPQUFBLENBQUEsSUFBQSxDQUFnQixHQUFBLENBQUEsRUFBVSxXQUMxQixNQUFBLCtCQUNKLEVBQ0ksRSIsInNvdXJjZXMiOlsic3JjL3NldHRpbmdzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRpbmdzLWZvcm0nKTtcbiAgICBjb25zdCBhcGlUeXBlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwaS10eXBlJyk7XG4gICAgY29uc3QgYW50aHJvcGljRmllbGRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FudGhyb3BpYy1maWVsZHMnKTtcbiAgICBjb25zdCBhd3NGaWVsZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXdzLWZpZWxkcycpO1xuICAgIGNvbnN0IGFudGhyb3BpY01vZGVsU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FudGhyb3BpYy1tb2RlbCcpO1xuICAgIGNvbnN0IGF3c01vZGVsU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F3cy1tb2RlbCcpO1xuXG4gICAgLy8gTG9hZCBzYXZlZCBzZXR0aW5nc1xuICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFsnYXBpVHlwZScsICdhbnRocm9waWNBcGlLZXknLCAnYXdzQWNjZXNzS2V5SWQnLCAnYXdzU2VjcmV0QWNjZXNzS2V5JywgJ2FudGhyb3BpY01vZGVsJywgJ2F3c01vZGVsJ10sIGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LmFwaVR5cGUpIHtcbiAgICAgICAgICAgIGFwaVR5cGVTZWxlY3QudmFsdWUgPSByZXN1bHQuYXBpVHlwZTtcbiAgICAgICAgICAgIHRvZ2dsZUFwaUZpZWxkcyhyZXN1bHQuYXBpVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5hbnRocm9waWNBcGlLZXkpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnRocm9waWMtYXBpLWtleScpLnZhbHVlID0gcmVzdWx0LmFudGhyb3BpY0FwaUtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmF3c0FjY2Vzc0tleUlkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXdzLWFjY2Vzcy1rZXktaWQnKS52YWx1ZSA9IHJlc3VsdC5hd3NBY2Nlc3NLZXlJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmF3c1NlY3JldEFjY2Vzc0tleSkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F3cy1zZWNyZXQtYWNjZXNzLWtleScpLnZhbHVlID0gcmVzdWx0LmF3c1NlY3JldEFjY2Vzc0tleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmFudGhyb3BpY01vZGVsKSB7XG4gICAgICAgICAgICBhbnRocm9waWNNb2RlbFNlbGVjdC52YWx1ZSA9IHJlc3VsdC5hbnRocm9waWNNb2RlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0LmF3c01vZGVsKSB7XG4gICAgICAgICAgICBhd3NNb2RlbFNlbGVjdC52YWx1ZSA9IHJlc3VsdC5hd3NNb2RlbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXBpVHlwZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdG9nZ2xlQXBpRmllbGRzKHRoaXMudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgYXBpVHlwZSA9IGFwaVR5cGVTZWxlY3QudmFsdWU7XG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0geyBhcGlUeXBlIH07XG5cbiAgICAgICAgaWYgKGFwaVR5cGUgPT09ICdhbnRocm9waWMnKSB7XG4gICAgICAgICAgICBzZXR0aW5ncy5hbnRocm9waWNBcGlLZXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW50aHJvcGljLWFwaS1rZXknKS52YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLmFudGhyb3BpY01vZGVsID0gYW50aHJvcGljTW9kZWxTZWxlY3QudmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PT0gJ2F3cy1iZWRyb2NrJykge1xuICAgICAgICAgICAgc2V0dGluZ3MuYXdzQWNjZXNzS2V5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXdzLWFjY2Vzcy1rZXktaWQnKS52YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLmF3c1NlY3JldEFjY2Vzc0tleSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhd3Mtc2VjcmV0LWFjY2Vzcy1rZXknKS52YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLmF3c01vZGVsID0gYXdzTW9kZWxTZWxlY3QudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldChzZXR0aW5ncywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhbGVydCgnU2V0dGluZ3Mgc2F2ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFwaUZpZWxkcyhhcGlUeXBlKSB7XG4gICAgICAgIGlmIChhcGlUeXBlID09PSAnYW50aHJvcGljJykge1xuICAgICAgICAgICAgYW50aHJvcGljRmllbGRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgICAgYXdzRmllbGRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICB9IGVsc2UgaWYgKGFwaVR5cGUgPT09ICdhd3MtYmVkcm9jaycpIHtcbiAgICAgICAgICAgIGFudGhyb3BpY0ZpZWxkcy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIGF3c0ZpZWxkcy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZvcm0iLCJnZXRFbGVtZW50QnlJZCIsImFwaVR5cGVTZWxlY3QiLCJhbnRocm9waWNGaWVsZHMiLCJhd3NGaWVsZHMiLCJhbnRocm9waWNNb2RlbFNlbGVjdCIsImF3c01vZGVsU2VsZWN0IiwidG9nZ2xlQXBpRmllbGRzIiwiYXBpVHlwZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImNocm9tZSIsInN0b3JhZ2UiLCJzeW5jIiwiZ2V0IiwicmVzdWx0IiwidmFsdWUiLCJhbnRocm9waWNBcGlLZXkiLCJhd3NBY2Nlc3NLZXlJZCIsImF3c1NlY3JldEFjY2Vzc0tleSIsImFudGhyb3BpY01vZGVsIiwiYXdzTW9kZWwiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZXR0aW5ncyIsInNldCIsImFsZXJ0Il0sInZlcnNpb24iOjMsImZpbGUiOiJzZXR0aW5ncy5IQVNIX1JFRl9iYjQ4OWEzMDY2ZGIyMThkLmpzLm1hcCJ9
