document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("settings-form"),t=document.getElementById("api-type"),s=document.getElementById("anthropic-fields"),c=document.getElementById("aws-fields");function a(e){"anthropic"===e?(s.classList.remove("hidden"),c.classList.add("hidden")):"aws-bedrock"===e&&(s.classList.add("hidden"),c.classList.remove("hidden"))}chrome.storage.sync.get(["apiType","anthropicApiKey","awsAccessKeyId","awsSecretAccessKey"],function(e){e.apiType&&(t.value=e.apiType,a(e.apiType)),e.anthropicApiKey&&(document.getElementById("anthropic-api-key").value=e.anthropicApiKey),e.awsAccessKeyId&&(document.getElementById("aws-access-key-id").value=e.awsAccessKeyId),e.awsSecretAccessKey&&(document.getElementById("aws-secret-access-key").value=e.awsSecretAccessKey)}),t.addEventListener("change",function(){a(this.value)}),e.addEventListener("submit",function(e){e.preventDefault();let s=t.value,c={apiType:s};"anthropic"===s?c.anthropicApiKey=document.getElementById("anthropic-api-key").value:"aws-bedrock"===s&&(c.awsAccessKeyId=document.getElementById("aws-access-key-id").value,c.awsSecretAccessKey=document.getElementById("aws-secret-access-key").value),chrome.storage.sync.set(c,function(){alert("Settings saved successfully!")})})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IkFBQUEsU0FBUyxnQkFBZ0IsQ0FBQyxtQkFBb0IsV0FDMUMsSUFBTSxFQUFPLFNBQVMsY0FBYyxDQUFDLGlCQUMvQixFQUFnQixTQUFTLGNBQWMsQ0FBQyxZQUN4QyxFQUFrQixTQUFTLGNBQWMsQ0FBQyxvQkFDMUMsRUFBWSxTQUFTLGNBQWMsQ0FBQyxjQThDbEMsU0FBQSxFQUFVLENBQVUsRUFDeEIsQUFBQSxjQUFBLEdBQ0osRUFBQSxTQUFBLENBQUEsTUFBQSxDQUFBLFVBQ0osRUFBQSxTQUFBLENBQUEsR0FBQSxDQUFBLFcsZ0IsSSxFLFMsQyxHLEMsVSxFLFMsQyxNLEMsVSxDQTlDNkIsT0FBQSxPQUFBLENBQUEsSUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLFVBQUEsa0JBQUEsaUJBQUEscUJBQUEsQ0FBQSxTQUFBLENBQUEsRUFBVyxFQUFBLE9BQUEsR0FBbUIsRUFBQSxLQUFBLENBQUEsRUFBQSxPQUFBLENBQWtCLEVBQUEsRUFBQSxPQUFBLEdBQ2pFLEVBQU8sZUFBWCxFQUNJLENBQUEsU0FBQSxjQUFzQixDQUFBLHFCQUF0QixLQUFBLENBQUEsRUFBQSxlQUFBLEFBQUEsRUFFSixFQUFBLGNBQUEsRUFDSSxDQUFBLFNBQU8sY0FBZSxDQUN0QixxQkFBUyxLQUFlLENBQUEsRUFBQSxjQUEwQixBQUExQixFQUt4QixFQUFPLGtCQUFrQixFQUdqQyxDQUFBLFNBQUEsY0FBQSxDQUFBLHlCQUFBLEtBQUEsQ0FBQSxFQUFBLGtCQUFBLEFBQUEsQ0FHSSxHQUdKLEVBQUssZ0JBQWlCLENBQUEsU0FBbUIsV0FDckMsRUFBZ0IsSUFBaEIsQ0FBQSxLQUFBLENBQ0EsR0FDbUIsRUFBQSxnQkFBQSxDQUFBLFNBQUEsU0FBQSxDQUFBLEVBQVEsRUFBQSxjQUFBLEdBRTNCLElBQUksRUFBWSxFQUNaLEtBQUEsQ0FDRyxFQUFJLENBQUEsUUFBQSxDQUFZLENBRW5CLEFBQVMsQ0FBQSxjQUFULEVBQ0osRUFBQSxlQUFBLENBQUEsU0FBQSxjQUFBLENBQUEscUJBQUEsS0FBQSxDQUV1QixnQkFBaEIsSUFDSCxFQUFBLGNBQUEsQ0FBQSxTQUFBLGNBQUEsQ0FBQSxxQkFBQSxLQUFBLENBQ0osRUFBQSxrQkFBQSxDQUFBLFNBQUEsY0FBQSxDQUFBLHlCQUFBLEtBQUEsRUFJQSxPQUFJLE9BQUEsQ0FBQSxJQUFZLENBQUEsR0FBQSxDQUFBLEVBQWhCLFdBQ0ksTUFBQSwrQkFDQSxFQUNKLEUiLCJzb3VyY2VzIjpbInNyYy9zZXR0aW5ncy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR0aW5ncy1mb3JtJyk7XG4gICAgY29uc3QgYXBpVHlwZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcGktdHlwZScpO1xuICAgIGNvbnN0IGFudGhyb3BpY0ZpZWxkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbnRocm9waWMtZmllbGRzJyk7XG4gICAgY29uc3QgYXdzRmllbGRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F3cy1maWVsZHMnKTtcblxuICAgIC8vIExvYWQgc2F2ZWQgc2V0dGluZ3NcbiAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbJ2FwaVR5cGUnLCAnYW50aHJvcGljQXBpS2V5JywgJ2F3c0FjY2Vzc0tleUlkJywgJ2F3c1NlY3JldEFjY2Vzc0tleSddLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5hcGlUeXBlKSB7XG4gICAgICAgICAgICBhcGlUeXBlU2VsZWN0LnZhbHVlID0gcmVzdWx0LmFwaVR5cGU7XG4gICAgICAgICAgICB0b2dnbGVBcGlGaWVsZHMocmVzdWx0LmFwaVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuYW50aHJvcGljQXBpS2V5KSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW50aHJvcGljLWFwaS1rZXknKS52YWx1ZSA9IHJlc3VsdC5hbnRocm9waWNBcGlLZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5hd3NBY2Nlc3NLZXlJZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F3cy1hY2Nlc3Mta2V5LWlkJykudmFsdWUgPSByZXN1bHQuYXdzQWNjZXNzS2V5SWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5hd3NTZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhd3Mtc2VjcmV0LWFjY2Vzcy1rZXknKS52YWx1ZSA9IHJlc3VsdC5hd3NTZWNyZXRBY2Nlc3NLZXk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFwaVR5cGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRvZ2dsZUFwaUZpZWxkcyh0aGlzLnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGFwaVR5cGUgPSBhcGlUeXBlU2VsZWN0LnZhbHVlO1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHsgYXBpVHlwZSB9O1xuXG4gICAgICAgIGlmIChhcGlUeXBlID09PSAnYW50aHJvcGljJykge1xuICAgICAgICAgICAgc2V0dGluZ3MuYW50aHJvcGljQXBpS2V5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FudGhyb3BpYy1hcGkta2V5JykudmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PT0gJ2F3cy1iZWRyb2NrJykge1xuICAgICAgICAgICAgc2V0dGluZ3MuYXdzQWNjZXNzS2V5SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXdzLWFjY2Vzcy1rZXktaWQnKS52YWx1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLmF3c1NlY3JldEFjY2Vzc0tleSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhd3Mtc2VjcmV0LWFjY2Vzcy1rZXknKS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuc2V0KHNldHRpbmdzLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdTZXR0aW5ncyBzYXZlZCBzdWNjZXNzZnVsbHkhJyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlQXBpRmllbGRzKGFwaVR5cGUpIHtcbiAgICAgICAgaWYgKGFwaVR5cGUgPT09ICdhbnRocm9waWMnKSB7XG4gICAgICAgICAgICBhbnRocm9waWNGaWVsZHMuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICBhd3NGaWVsZHMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBpVHlwZSA9PT0gJ2F3cy1iZWRyb2NrJykge1xuICAgICAgICAgICAgYW50aHJvcGljRmllbGRzLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgYXdzRmllbGRzLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4iXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9ybSIsImdldEVsZW1lbnRCeUlkIiwiYXBpVHlwZVNlbGVjdCIsImFudGhyb3BpY0ZpZWxkcyIsImF3c0ZpZWxkcyIsInRvZ2dsZUFwaUZpZWxkcyIsImFwaVR5cGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJjaHJvbWUiLCJzdG9yYWdlIiwic3luYyIsImdldCIsInJlc3VsdCIsInZhbHVlIiwiYW50aHJvcGljQXBpS2V5IiwiYXdzQWNjZXNzS2V5SWQiLCJhd3NTZWNyZXRBY2Nlc3NLZXkiLCJlIiwicHJldmVudERlZmF1bHQiLCJzZXR0aW5ncyIsInNldCIsImFsZXJ0Il0sInZlcnNpb24iOjMsImZpbGUiOiJzZXR0aW5ncy5IQVNIX1JFRl9iYjQ4OWEzMDY2ZGIyMThkLmpzLm1hcCJ9
